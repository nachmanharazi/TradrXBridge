/* Supreme OS - Glassmorphism, Material, Dynamic, Accessible, RTL, Animated, Multi-page Design */
:root {
  --primary: #3a86ff;
  --secondary: #ffbe0b;
  --danger: #ff006e;
  --success: #06d6a0;
  --bg-glass: rgba(255,255,255,0.82);
  --bg-glass-dark: rgba(30,30,40,0.92);
  --border-glass: rgba(60,60,100,0.18);
  --shadow-glass: 0 4px 32px 0 rgba(0,0,0,0.13);
  --sidebar-bg: var(--bg-glass);
  --sidebar-bg-dark: var(--bg-glass-dark);
  --notif-success: #bbf7d0;
  --notif-error: #fecaca;
  --notif-info: #e0e7ff;
  --panel-radius: 18px;
  --panel-blur: 22px;
  --transition: 0.22s cubic-bezier(.4,2,.6,1);
  --font-main: 'Varela Round', 'Segoe UI', Arial, sans-serif;
  --font-size: 17px;
  --focus-outline: 2.5px solid var(--primary);
  --shadow-strong: 0 8px 32px 0 rgba(58,134,255,0.13);
  --shadow-btn: 0 2px 8px 0 rgba(58,134,255,0.10);
  --gradient-main: linear-gradient(135deg, #e0e7ff 0%, #f1faee 100%);
  --gradient-dark: linear-gradient(135deg, #232946 0%, #121629 100%);
  --glass-blur: blur(22px);
  --bubble-radius: 18px 18px 4px 18px;
}

body {
  font-family: var(--font-main);
  font-size: var(--font-size);
  background: var(--gradient-main);
  color: #181a1b;
  direction: rtl;
  margin: 0;
  min-height: 100vh;
  transition: background 0.5s;
  box-sizing: border-box;
  scroll-behavior: smooth;
}
body.dark {
  background: var(--gradient-dark);
  color: #f5f5fa;
}

/* --- Supreme Home & Panels --- */
.main-content, .animated-panel {
  background: var(--bg-glass);
  border-radius: 32px;
  box-shadow: 0 6px 32px 0 #3a86ff22;
  padding: 46px 32px 32px 32px;
  margin: 44px auto 0 auto;
  max-width: 900px;
  min-height: 450px;
  animation: fadeInPanel 0.7s cubic-bezier(.49,2,.55,1) backwards;
  position: relative;
  z-index: 1;
}
@keyframes fadeInPanel {
  from { opacity: 0; transform: translateY(36px) scale(0.97); }
  to { opacity: 1; transform: translateY(0) scale(1); }
}
.status-panel {
  display: flex;
  flex-wrap: wrap;
  gap: 28px;
  justify-content: center;
  margin-bottom: 18px;
}
.status-item {
  background: linear-gradient(120deg, #e0e7ff88 70%, #fff 100%);
  border-radius: 18px;
  padding: 22px 32px;
  box-shadow: 0 2px 18px 0 #3a86ff22;
  min-width: 170px;
  text-align: center;
  font-size: 1.15em;
  transition: transform 0.18s, box-shadow 0.18s;
  color: #232946;
  border: 1.5px solid #e0e7ffcc;
}
.status-item:hover {
  transform: scale(1.035);
  box-shadow: 0 6px 28px 0 #3a86ff44;
}
body.dark .status-item {
  background: linear-gradient(120deg, #232946cc 70%, #121629cc 100%);
  color: #e0e7ff;
  border: 1.5px solid #232946cc;
}
.tips-panel {
  background: var(--notif-info);
  color: #232946;
  border-radius: 15px;
  padding: 18px 24px;
  margin: 32px auto 0 auto;
  max-width: 660px;
  box-shadow: 0 2px 14px #e0e7ff55;
  font-size: 1.08em;
  display: flex;
  align-items: center;
  gap: 12px;
}
body.dark .tips-panel {
  background: #232946;
  color: #e0e7ff;
}
h1, h2 {
  font-family: inherit;
  font-weight: 800;
  letter-spacing: 0.01em;
  color: var(--primary);
  margin-bottom: 0.3em;
}
h2 {
  font-size: 1.22em;
  color: var(--secondary);
  margin-bottom: 0.5em;
}
ul {
  list-style: none;
  padding: 0;
  margin: 0 0 0 0;
}
ul li {
  padding: 7px 0 7px 0;
  font-size: 1.08em;
  display: flex;
  align-items: center;
  gap: 10px;
  color: #232946;
  border-bottom: 1px solid #e0e7ff55;
  transition: background 0.13s;
}
ul li:last-child { border-bottom: none; }
body.dark ul li { color: #e0e7ff; }
ul li:hover {
  background: #e0e7ff44;
  border-radius: 10px;
}
body.dark ul li:hover {
  background: #23294655;
}
.topbar {
  background: linear-gradient(90deg, #e0e7ff 60%, #fff 100%);
  border-radius: 0 0 24px 24px;
  box-shadow: 0 2px 14px 0 #3a86ff22;
  padding: 18px 22px;
  display: flex;
  align-items: center;
  gap: 22px;
  font-size: 1.13em;
  position: sticky;
  top: 0;
  z-index: 10;
}
body.dark .topbar {
  background: linear-gradient(90deg, #232946 60%, #121629 100%);
  color: #e0e7ff;
}
.nav-link {
  color: var(--primary);
  text-decoration: none;
  font-weight: 700;
  padding: 7px 18px;
  border-radius: 13px;
  transition: background 0.14s, color 0.14s;
}
.nav-link:hover, .nav-link:focus {
  background: var(--primary);
  color: #fff;
}
body.dark .nav-link {
  color: var(--secondary);
}
body.dark .nav-link:hover, body.dark .nav-link:focus {
  background: var(--secondary);
  color: #232946;
}


/* Sticky Topbar */
.topbar {
  position: sticky;
  top: 0;
  width: 100vw;
  background: var(--bg-glass);
  backdrop-filter: var(--glass-blur);
  -webkit-backdrop-filter: var(--glass-blur);
  z-index: 1002;
  display: flex;
  align-items: center;
  justify-content: flex-end;
  gap: 22px;
  padding: 12px 32px 10px 16px;
  border-bottom: 1.5px solid var(--border-glass);
  box-shadow: var(--shadow-glass);
}
body.dark .topbar {
  background: var(--bg-glass-dark);
}
.topbar .nav-link {
  color: var(--primary);
  text-decoration: none;
  font-weight: 600;
  font-size: 1.08em;
  padding: 4px 14px;
  border-radius: 8px;
  transition: background var(--transition), color var(--transition);
}
.topbar .nav-link.active, .topbar .nav-link:hover {
  background: var(--primary);
  color: #fff;
}
.topbar .theme-toggle {
  cursor: pointer;
  font-size: 1.25em;
  margin-left: 12px;
  transition: filter var(--transition);
}
.topbar .theme-toggle:focus {
  outline: var(--focus-outline);
}

/* Main Content Layout */
.main-content {
  max-width: 960px;
  margin: 0 auto;
  padding: 32px 18px 40px 18px;
  border-radius: var(--panel-radius);
  background: var(--bg-glass);
  box-shadow: var(--shadow-glass);
  margin-top: 32px;
  min-height: 70vh;
  backdrop-filter: var(--glass-blur);
}
body.dark .main-content {
  background: var(--bg-glass-dark);
}

/* Buttons */
button, .btn {
  background: linear-gradient(90deg, var(--primary) 60%, var(--secondary) 100%);
  color: #fff;
  border: none;
  border-radius: 22px;
  padding: 12px 32px;
  font-size: 1.08em;
  cursor: pointer;
  box-shadow: 0 2px 12px 0 rgba(58,134,255,0.13);
  transition: background 0.22s cubic-bezier(.4,2,.6,1), box-shadow 0.22s, color 0.18s, transform 0.18s;
  font-family: inherit;
  font-weight: 600;
  letter-spacing: 0.01em;
  outline: none;
  margin: 6px 0;
  position: relative;
  overflow: hidden;
}
button:active, .btn:active {
  transform: scale(0.97);
  filter: brightness(0.97);
}
button:hover, .btn:hover {
  background: linear-gradient(90deg, var(--secondary) 60%, var(--primary) 100%);
  color: #181a1b;
  box-shadow: 0 4px 18px 0 rgba(255,190,11,0.13);
}
button:focus, .btn:focus {
  outline: var(--focus-outline);
  box-shadow: 0 0 0 4px #3a86ff44;
}
button .kbd, .btn .kbd {
  background: #fff3;
  color: var(--primary);
  border-radius: 7px;
  padding: 2px 7px;
  font-size: 0.99em;
  margin: 0 4px;
}

}
button:focus, .btn:focus {
  outline: var(--focus-outline);
}

/* Inputs & Forms */
input, textarea, select {
  font-family: var(--font-main);
  font-size: 1em;
  border-radius: 8px;
  border: 1.5px solid #c8d6e5;
  padding: 8px 12px;
  margin-bottom: 8px;
  background: #f8fafc;
  transition: border var(--transition), box-shadow var(--transition);
}
input:focus, textarea:focus, select:focus {
  border: 2px solid var(--primary);
  box-shadow: 0 2px 8px #2563eb22;
  outline: none;
}
body.dark input, body.dark textarea, body.dark select {
  background: #232946;
  color: #fff;
  border: 1.5px solid #3a86ff66;
}

/* Chat Bubbles */
#chatPanel, .chat-bubble {
  display: flex;
  flex-direction: column;
  gap: 10px;
  margin-top: 18px;
}
.chat-bubble {
  align-self: flex-end;
  max-width: 70%;
  background: var(--primary);
  color: #fff;
  padding: 14px 18px;
  border-radius: var(--bubble-radius);
  margin-bottom: 6px;
  box-shadow: var(--shadow-glass);
  font-size: 1.08em;
  animation: bubbleIn 0.5s cubic-bezier(.4,2,.6,1);
  position: relative;
}
.chat-bubble.ai {
  align-self: flex-start;
  background: var(--secondary);
  color: #181a1b;
}
@keyframes bubbleIn {
  0% { opacity: 0; transform: translateY(20px) scale(0.95); }
  100% { opacity: 1; transform: translateY(0) scale(1); }
}

/* File Tree & File List */
#fileListDisplay, .file-list, .folder-list {
  background: var(--bg-glass);
  border-radius: var(--panel-radius);
  box-shadow: var(--shadow-glass);
  padding: 12px 10px;
  margin-top: 12px;
  max-height: 55vh;
  overflow-y: auto;
  font-size: 1.01em;
}
body.dark #fileListDisplay, body.dark .file-list, body.dark .folder-list {
  background: var(--bg-glass-dark);
}
.file-list .file, .folder-list .folder {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 8px 0;
  border-bottom: 1px solid #e0e7ef66;
  cursor: pointer;
  transition: background var(--transition);
}
.file-list .file:hover, .folder-list .folder:hover {
  background: #e0e7ff44;
}
body.dark .file-list .file:hover, body.dark .folder-list .folder:hover {
  background: #23294644;
}
.file .icon, .folder .icon {
  font-size: 1.3em;
  margin-left: 8px;
  color: var(--primary);
  filter: drop-shadow(0 0 4px #22d3ee44);
}

/* Editor Panel */
#editor {
  min-height: 320px;
  border: 1.5px solid #bdbdbd;
  border-radius: 12px;
  background: #f8fafc;
  margin-top: 18px;
  box-shadow: var(--shadow-glass);
  font-size: 1.1em;
  direction: ltr;
  padding: 0;
}
body.dark #editor {
  background: #232946;
  color: #fff;
  border: 1.5px solid #3a86ff66;
}

/* Timeline Panel */
#timelinePanel {
  background: var(--bg-glass);
  border-radius: var(--panel-radius);
  box-shadow: var(--shadow-glass);
  padding: 18px 14px;
  margin-top: 12px;
  min-height: 140px;
  transition: background var(--transition);
}
body.dark #timelinePanel {
  background: var(--bg-glass-dark);
}

/* Terminal Panel */
.terminal, #terminalOutput {
  background: #1e293b;
  color: #d1fae5;
  border-radius: 16px;
  padding: 18px 14px;
  margin-top: 18px;
  font-family: 'JetBrains Mono', 'Consolas', monospace;
  font-size: 1.08em;
  min-height: 120px;
  box-shadow: var(--shadow-glass);
  direction: ltr;
  overflow-x: auto;
}

/* Notifications */
.notification {
  position: fixed;
  bottom: 28px;
  right: 28px;
  min-width: 220px;
  max-width: 340px;
  padding: 14px 18px;
  border-radius: 12px;
  font-size: 1.05em;
  font-weight: 600;
  box-shadow: var(--shadow-glass);
  z-index: 1200;
  background: var(--notif-info);
  color: #181a1b;
  animation: notifIn 0.6s cubic-bezier(.4,2,.6,1);
}
.notification.success { background: var(--notif-success); color: #065f46; }
.notification.error { background: var(--notif-error); color: #b91c1c; }
@keyframes notifIn {
  0% { opacity: 0; transform: translateY(30px) scale(0.95); }
  100% { opacity: 1; transform: translateY(0) scale(1); }
}

/* Accessibility & Focus */
*:focus {
  outline: var(--focus-outline);
  outline-offset: 1.5px;
}
[aria-live] {
  outline: 2px dashed var(--secondary);
}

/* Responsive */
@media (max-width: 700px) {
  .main-content {
    padding: 14px 4px 28px 4px;
    margin-top: 10px;
    min-width: 0;
  }
  .topbar {
    flex-direction: column;
    gap: 8px;
    padding: 8px 10px 7px 10px;
  }
  #editor {
    min-height: 180px;
  }
}

/* RTL & Direction */
html[dir="rtl"] body, body[dir="rtl"] {
  direction: rtl;
}
html[dir="ltr"] body, body[dir="ltr"] {
  direction: ltr;
}

/* End Supreme OS Style Upgrade */

/* Glass panels */
#sidebar, #chatWrap, #timelinePanel, .tabs-bar, .notification {
  background: var(--sidebar-bg);
  border-radius: var(--panel-radius);
  box-shadow: var(--shadow-glass);
  border: 1.5px solid var(--border-glass);
  backdrop-filter: blur(var(--panel-blur));
  -webkit-backdrop-filter: blur(var(--panel-blur));
  transition: background var(--transition), box-shadow var(--transition);
}
body.dark #sidebar, body.dark #chatWrap, body.dark #timelinePanel, body.dark .tabs-bar, body.dark .notification {
  background: var(--sidebar-bg-dark);
  color: #f5f5fa;
}

/* Sidebar */
#sidebar {
  width: 260px;
  min-height: 100vh;
  position: fixed;
  top: 0; right: 0;
  z-index: 100;
  padding: 18px 12px 12px 8px;
  display: flex;
  flex-direction: column;
  gap: 12px;
}
.sidebar-header {
  display: flex;
  flex-direction: column;
  gap: 10px;
  align-items: flex-end;
}
#fileSearch {
  width: 100%;
  padding: 7px 12px;
  border-radius: 8px;
  border: 1px solid #c8d6e5;
  background: #f8fafc;
  font-size: 1em;
  outline: none;
  transition: border var(--transition);
}
#fileSearch:focus {
  border: 2px solid var(--primary);
}
#newFileBtn, #newFolderBtn {
  background: var(--primary);
  color: #fff;
  border: none;
  border-radius: 8px;
  padding: 7px 18px;
  font-size: 1em;
  cursor: pointer;
  margin-left: 6px;
  box-shadow: 0 2px 8px 0 rgba(58,134,255,0.07);
  transition: background var(--transition), box-shadow var(--transition);
}
#newFileBtn:hover, #newFolderBtn:hover {
  background: var(--secondary);
  color: #181a1b;
}
#folderTreeSidebar {
  list-style: none;
  padding: 0;
  margin: 0;
  margin-top: 16px;
  max-height: 60vh;
  overflow-y: auto;
  direction: rtl;
}
#folderTreeSidebar li {
  padding: 7px 10px;
  border-radius: 6px;
  margin-bottom: 4px;
  cursor: pointer;
  transition: background var(--transition);
  user-select: none;
  outline: none;
}
#folderTreeSidebar li:focus, #folderTreeSidebar li:hover {
  background: var(--notif-info);
  color: #222;
}
body.dark #folderTreeSidebar li:focus, body.dark #folderTreeSidebar li:hover {
  background: #232946;
  color: #fff;
}

/* Tabs bar */
.tabs-bar {
  margin-right: 270px;
  margin-top: 18px;
  padding: 0 16px;
  display: flex;
  align-items: center;
  background: var(--sidebar-bg);
  border-radius: var(--panel-radius);
  min-height: 48px;
  box-shadow: var(--shadow-glass);
}
body.dark .tabs-bar {
  background: var(--sidebar-bg-dark);
}
#tabsList {
  display: flex;
  gap: 8px;
  list-style: none;
  padding: 0;
  margin: 0;
}
#tabsList li {
  padding: 7px 18px;
  border-radius: 8px;
  background: #e0e7ff;
  color: #232946;
  cursor: pointer;
  transition: background var(--transition), color var(--transition);
  outline: none;
}
body.dark #tabsList li {
  background: #232946;
  color: #f5f5fa;
}
#tabsList li.active {
  background: var(--primary);
  color: #fff;
}

/* Editor */
#editor {
  margin-right: 270px;
  margin-top: 70px;
  min-height: 70vh;
  border-radius: var(--panel-radius);
  box-shadow: var(--shadow-glass);
  background: #fff;
  font-family: 'JetBrains Mono', 'Consolas', monospace;
  font-size: 1.1em;
  outline: none;
  transition: background var(--transition);
}
body.dark #editor {
  background: #232946;
  color: #f5f5fa;
}

/* Chat */
#chatWrap {
  position: fixed;
  bottom: 24px; left: 24px;
  width: 380px;
  max-width: 95vw;
  z-index: 2000;
  padding: 0 0 12px 0;
  box-shadow: var(--shadow-glass);
  border-radius: var(--panel-radius);
  background: var(--sidebar-bg);
  direction: rtl;
}
body.dark #chatWrap {
  background: var(--sidebar-bg-dark);
}
#chatHeader {
  font-size: 1.25em;
  font-weight: bold;
  color: var(--primary);
  padding: 12px 18px 8px 0;
  border-bottom: 1px solid #c8d6e5;
  letter-spacing: 1px;
  background: transparent;
}
#chatHistory {
  max-height: 280px;
  overflow-y: auto;
  padding: 12px 18px 0 0;
  direction: rtl;
  font-size: 1em;
  scroll-behavior: smooth;
}
.bubble {
  display: inline-block;
  max-width: 82%;
  padding: 16px 24px;
  margin: 14px 0 8px 0;
  border-radius: 22px 22px 7px 22px;
  background: linear-gradient(120deg, #fff 80%, #e0e7ff 100%);
  color: #232946;
  box-shadow: 0 2px 16px 0 rgba(58,134,255,0.11);
  font-size: 1.13em;
  position: relative;
  animation: chatIn 0.35s cubic-bezier(.7,2,.7,1) backwards;
  transition: background 0.18s, color 0.18s, box-shadow 0.18s, transform 0.14s;
  line-height: 1.62;
  font-size: 1em;
  word-break: break-word;
}
#chatForm {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 8px 18px 0 0;
}
#chatInput {
  flex: 1;
  border-radius: 8px;
  border: 1px solid #c8d6e5;
  padding: 7px 12px;
  font-size: 1em;
  outline: none;
  transition: border var(--transition);
}
#chatInput:focus {
  border: 2px solid var(--primary);
}
#chatSend {
  background: var(--primary);
  color: #fff;
  border: none;
  border-radius: 8px;
  padding: 7px 18px;
  font-size: 1em;
  cursor: pointer;
  transition: background var(--transition);
}
#chatSend:hover {
  background: var(--secondary);
  color: #181a1b;
}

/* Timeline */
#timelinePanel {
  position: fixed;
  left: 420px; top: 30px;
  z-index: 1000;
  width: 340px;
  max-width: 90vw;
  background: var(--sidebar-bg);
  border-radius: var(--panel-radius);
  box-shadow: var(--shadow-glass);
  padding: 18px 16px 12px 0;
  direction: rtl;
}
body.dark #timelinePanel {
  background: var(--sidebar-bg-dark);
}
#timelineList {
  list-style: none;
  padding: 0;
  margin: 0;
  margin-top: 8px;
}
#timelineList li {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 7px 0;
  border-bottom: 1px solid #e0e7ff;
  font-size: 1em;
  transition: background var(--transition);
  cursor: pointer;
}
body.dark #timelineList li {
  border-bottom: 1px solid #232946;
}
#timelineList button {
  background: var(--primary);
  color: #fff;
  border: none;
  border-radius: 8px;
  padding: 5px 12px;
  font-size: 1em;
  margin-left: 5px;
  cursor: pointer;
  transition: background var(--transition);
}
#timelineList button:hover {
  background: var(--secondary);
  color: #181a1b;
}

/* Notifications */
.notification {
  min-width: 180px;
  max-width: 340px;
  font-size: 1em;
  font-weight: bold;
  box-shadow: 0 2px 16px 0 rgba(0,0,0,0.09);
  border-radius: 8px;
  padding: 10px 16px;
  margin: 10px;
  z-index: 5000;
  position: fixed;
  bottom: 10px;
  right: 10px;
  display: flex;
  align-items: center;
  gap: 10px;
  animation: fadein 0.5s;
}
.notification.info { background: var(--notif-info); color: #232946; }
.notification.success { background: var(--notif-success); color: #065f46; }
.notification.error { background: var(--notif-error); color: #b91c1c; }

.notifIcon {
  font-size: 1.2em;
}

/* Diff window */
.add { background: #bbf7d0; }
.del { background: #fecaca; }
.same { color: #888; }

/* Focus outline */
:focus {
  outline: var(--focus-outline) !important;
  outline-offset: 2px;
}

/* Animations */
@keyframes fadein {
  0% { opacity: 0; transform: translateY(24px) scale(0.95); }
  100% { opacity: 1; transform: none; }
}

/* Responsive */
@media (max-width: 900px) {
  #sidebar { width: 54vw; min-width: 160px; }
  #editor, .tabs-bar { margin-right: 56vw; }
  #chatWrap, #timelinePanel { left: 10vw; width: 80vw; }
}
@media (max-width: 600px) {
  #sidebar { width: 99vw; min-width: 0; position: static; }
  #editor, .tabs-bar { margin-right: 0; }
  #chatWrap, #timelinePanel { left: 0; width: 99vw; }
  #timelinePanel { top: 70px; }
}

/* Modern, responsive, colorful UI + Dark mode */
/* משתני עיצוב גלובליים */
:root {
  --main-bg: #f2f6ff;
  --main-color: #2563eb;
  --accent: #ffd700;
  --panel-bg: #fff;
  --text: #1e293b;
  --header-gradient: linear-gradient(90deg, #2563eb, #22d3ee);
  --glass-bg: rgba(255,255,255,0.8);
  --glass-blur: 16px;
  --main-shadow: 0 4px 32px #2563eb22, 0 1.5px 7px #1e293b11;
  --main-radius: 22px;
  --main-blue: #2563eb;
  --main-dark: #1e293b;
  --main-green: #22d3ee;
  --main-pink: #f472b6;
  --main-yellow: #fbbf24;
  --main-glow: 0 0 10px #2563eb44, 0 0 2px #fff;
}

body, html {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
  font-family: 'Varela Round', Arial, sans-serif;
  background: linear-gradient(135deg, #e0e7ef 0%, #f8fafc 100%);
  color: var(--text);
  direction: rtl;
  min-height: 100vh;
  transition: background 0.5s;
}

body.dark {
  background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
  color: #f1f5f9;
}

/* RESET */
*, *:before, *:after {
  box-sizing: inherit;
}

/* TOPBAR */
.topbar {
  background: var(--glass-bg);
  backdrop-filter: blur(var(--glass-blur));
  color: var(--main-blue);
  padding: 22px 32px;
  font-size: 1.4em;
  font-weight: bold;
  letter-spacing: 1px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  border-bottom-left-radius: var(--main-radius);
  border-bottom-right-radius: var(--main-radius);
  box-shadow: var(--main-shadow);
  min-height: 64px;
  margin-bottom: 16px;
  transition: background 0.5s, color 0.5s;
  background-image: var(--header-gradient);
  background-clip: padding-box;
}

.theme-toggle {
  margin-left: 18px;
  cursor: pointer;
  font-size: 1.7em;
  transition: color 0.2s, filter 0.2s;
  filter: drop-shadow(0 0 4px #2563eb33);
  outline: none;
}
.theme-toggle:focus {
  outline: 3px solid var(--main-yellow);
}
.theme-toggle:hover {
  color: var(--main-yellow);
  filter: drop-shadow(0 0 8px #fbbf2444);
}

/* MAIN GRID */
.main-grid {
  display: grid;
  grid-template-columns: 260px 1fr 340px;
  grid-template-rows: 1fr 180px;
  grid-template-areas:
    "sidebar editor chat"
    "timeline terminal chat";
  gap: 22px;
  padding: 22px 18px 0 18px;
  min-height: 92vh;
  transition: gap 0.3s;
}

.sidebar, .editor, .chat, .timeline, .terminal {
  background: var(--glass-bg);
  backdrop-filter: blur(var(--glass-blur));
  border-radius: var(--main-radius);
  box-shadow: var(--main-shadow);
  transition: background 0.5s, box-shadow 0.3s;
  border: 2.5px solid transparent;
}
.sidebar:focus-within, .editor:focus-within, .chat:focus-within, .timeline:focus-within, .terminal:focus-within {
  border-color: var(--main-blue);
  box-shadow: 0 0 0 3px #2563eb33, var(--main-shadow);
}

.sidebar {
  grid-area: sidebar;
  padding: 0 12px;
  display: flex;
  flex-direction: column;
  min-width: 210px;
  border-right: 3px solid #2563eb22;
}

.editor {
  grid-area: editor;
  display: flex;
  flex-direction: column;
  min-width: 300px;
  padding-top: 10px;
}

.chat {
  grid-area: chat;
  padding: 12px 12px 12px 0;
  overflow-y: auto;
  min-width: 250px;
  box-shadow: 0 2px 24px #22d3ee11, var(--main-shadow);
  border: 1.5px solid #22d3ee44;
  position: relative;
  background: linear-gradient(120deg, #f8fafc 80%, #22d3ee11 100%);
}

.timeline {
  grid-area: timeline;
  margin-top: 12px;
  padding: 14px 10px;
  border: 1.5px solid #fbbf2444;
  background: linear-gradient(120deg, #fffbe7 80%, #fbbf2422 100%);
}

.terminal {
  grid-area: terminal;
  color: #22d3ee;
  margin-top: 12px;
  padding: 12px 16px;
  font-family: monospace;
  border: 1.5px solid #2563eb44;
  box-shadow: 0 2px 24px #2563eb11, var(--main-shadow);
  background: linear-gradient(110deg, #0f172a 60%, #1e293b 100%);
  min-height: 90px;
  position: relative;
  overflow: auto;
}

/* BUTTONS */
.action-bar, .button-panel {
  display: flex;
  gap: 14px;
  margin: 14px 0 12px 0;
  justify-content: flex-end;
  animation: fadein 0.8s;
}
@keyframes fadein {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: none; }
}
.action-bar button, .button-panel button, .sidebar button {
  padding: 12px 28px;
  border-radius: 15px;
  border: none;
  background: linear-gradient(90deg, #2563eb 60%, #22d3ee 100%);
  color: #fff;
  font-size: 1.07em;
  font-weight: 700;
  cursor: pointer;
  box-shadow: 0 2px 12px #2563eb22, 0 0 0 #fff;
  transition: background 0.2s, box-shadow 0.2s, transform 0.1s, filter 0.2s;
  filter: drop-shadow(0 0 3px #22d3ee22);
  outline: none;
}
.action-bar button:hover, .button-panel button:hover, .sidebar button:hover {
  background: linear-gradient(90deg, #1e40af 60%, #2563eb 100%);
  box-shadow: 0 4px 24px #22d3ee33, 0 0 8px #2563eb33;
  transform: translateY(-2px) scale(1.05);
  filter: drop-shadow(0 0 6px #22d3ee44);
}
.action-bar button:focus, .button-panel button:focus, .sidebar button:focus {
  outline: 2.5px solid #fbbf24;
  filter: drop-shadow(0 0 10px #fbbf2444);
}

/* EDITOR & FILE TREE */
#editor {
  width: 100%;
  height: 430px;
  border-radius: 16px;
  border: 2.5px solid #e0e7ef;
  box-shadow: 0 2px 16px #2563eb11;
  font-size: 16px;
  margin-bottom: 14px;
  background: #f8fafc;
  transition: border 0.2s, box-shadow 0.3s;
}
#editor:focus {
  border: 2.5px solid #2563eb;
  box-shadow: 0 4px 24px #2563eb33;
}
#fileListDisplay {
  max-height: 60vh;
  overflow-y: auto;
  margin-top: 10px;
  background: #f8fafc99;
  border-radius: 12px;
  border: 1.5px solid #e0e7ef;
  box-shadow: 0 1px 12px #2563eb11;
  padding: 8px 0;
  transition: box-shadow 0.2s;
}
#fileListDisplay .folder, #fileListDisplay .file {
  background: transparent;
  border: none;
  box-shadow: none;
  transition: background 0.2s, color 0.2s;
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 1.09em;
  padding: 7px 20px 7px 10px;
  border-radius: 10px;
  cursor: pointer;
}
#fileListDisplay .folder .icon, #fileListDisplay .file .icon {
  font-size: 1.3em;
  margin-left: 8px;
  color: #2563eb;
  filter: drop-shadow(0 0 4px #22d3ee44);
}
#fileListDisplay .folder:hover, #fileListDisplay .file:hover {
  background: #22d3ee22;
  color: #2563eb;
}
#fileListDisplay .folder.open {
  background: #2563eb11;
  color: #1e293b;
}

/* TIMELINE, TERMINAL, CHAT */
#timelinePanel {
  min-height: 60px;
  border-radius: 12px;
  background: #f8fafcbb;
  box-shadow: 0 1px 8px #fbbf2411;
  border: 1.5px solid #fbbf2444;
  padding: 10px 8px;
}
#terminalOutput {
  min-height: 60px;
  background: linear-gradient(90deg, #000 80%, #2563eb 100%);
  color: #0ff;
  padding: 12px;
  border-radius: 12px;
  font-size: 1.15em;
  margin: 12px 0;
  box-shadow: 0 1px 14px #22d3ee22;
  border: 1.5px solid #22d3ee44;
  font-family: 'JetBrains Mono', monospace;
}
#chatPanel {
  min-height: 120px;
  background: #f8fafcee;
  border-radius: 14px;
  border: 1.5px solid #22d3ee44;
  box-shadow: 0 1px 12px #22d3ee11;
  padding: 16px 12px;
  animation: fadein 0.7s;
  font-size: 1.08em;
}
#chatPanel .msg {
  margin: 8px 0;
  padding: 10px 16px;
  border-radius: 12px;
  background: #fff;
  box-shadow: 0 1px 6px #2563eb11;
  border: 1px solid #e0e7ef;
  display: flex;
  align-items: flex-start;
  gap: 10px;
  animation: fadein 0.6s;
}
#chatPanel .msg.user {
  background: linear-gradient(90deg, #2563eb22 60%, #fff 100%);
  border-right: 4px solid #2563eb;
  align-self: flex-end;
}
#chatPanel .msg.ai {
  background: linear-gradient(90deg, #22d3ee22 60%, #fff 100%);
  border-left: 4px solid #22d3ee;
  align-self: flex-start;
}

/* SEARCH, NOTIFICATIONS, ERRORS */
#fileSearch {
  width: 96%;
  margin-bottom: 10px;
  padding: 9px;
  border-radius: 10px;
  border: 1.5px solid #e0e7ef;
  font-size: 1.03em;
  background: #f1f5f9;
  transition: border 0.2s, box-shadow 0.2s;
  box-shadow: 0 1px 6px #2563eb11;
}
#fileSearch:focus {
  border: 1.5px solid #2563eb;
  background: #fff;
  box-shadow: 0 2px 8px #2563eb22;
}
.notification {
  position: fixed;
  bottom: 24px;
  left: 36px;
  background: var(--glass-bg);
  color: #1e293b;
  border-radius: 15px;
  padding: 15px 30px;
  border: 2px solid #2563eb;
  box-shadow: 0 2px 16px #2563eb22;
  z-index: 3000;
  font-size: 1.17em;
  font-weight: 500;
  animation: fadein 0.7s;
}
.error-item {
  color: #b91c1c;
  background: #fff5f5cc;
  border-radius: 10px;
  margin: 6px 0;
  padding: 10px 16px;
  font-size: 1em;
  border: 1.5px solid #fecaca;
  box-shadow: 0 1px 8px #fecaca44;
}

/* SCROLLBAR */
::-webkit-scrollbar {
  width: 8px;
  background: #e0e7ef;
  border-radius: 8px;
}
::-webkit-scrollbar-thumb {
  background: #2563eb44;
  border-radius: 8px;
}

/* RESPONSIVE */
@media (max-width: 900px) {
  .main-grid {
    grid-template-columns: 1fr;
    grid-template-rows: auto auto auto auto auto;
    grid-template-areas:
      "topbar"
      "sidebar"
      "editor"
      "timeline"
      "terminal"
      "chat";
  }
  .sidebar, .editor, .chat, .timeline, .terminal {
    min-width: unset;
    margin-bottom: 18px;
  }
}

/* TOPBAR */
.topbar {
  background: var(--glass-bg);
  backdrop-filter: blur(var(--glass-blur));
  color: var(--main-blue);
  padding: 22px 32px;
  font-size: 1.4em;
  font-weight: bold;
  letter-spacing: 1px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  border-bottom-left-radius: var(--main-radius);
  border-bottom-right-radius: var(--main-radius);
  box-shadow: var(--main-shadow);
  min-height: 64px;
  margin-bottom: 16px;
  transition: background 0.5s, color 0.5s;
  background-image: var(--header-gradient);
  background-clip: padding-box;
}

.theme-toggle {
  margin-left: 18px;
  cursor: pointer;
  font-size: 1.7em;
  transition: color 0.2s, filter 0.2s;
  filter: drop-shadow(0 0 4px #2563eb33);
  outline: none;
}
.theme-toggle:focus {
  outline: 3px solid var(--main-yellow);
}
.theme-toggle:hover {
  color: var(--main-yellow);
  filter: drop-shadow(0 0 8px #fbbf2444);
}

/* MAIN GRID */
.main-grid {
  display: grid;
  grid-template-columns: 260px 1fr 340px;
  grid-template-rows: 1fr 180px;
  grid-template-areas:
    "sidebar editor chat"
    "timeline terminal chat";
  gap: 22px;
  padding: 22px 18px 0 18px;
  min-height: 92vh;
  transition: gap 0.3s;
}

.sidebar, .editor, .chat, .timeline, .terminal {
  background: var(--glass-bg);
  backdrop-filter: blur(var(--glass-blur));
  border-radius: var(--main-radius);
  box-shadow: var(--main-shadow);
  transition: background 0.5s, box-shadow 0.3s;
  border: 2.5px solid transparent;
}
.sidebar:focus-within, .editor:focus-within, .chat:focus-within, .timeline:focus-within, .terminal:focus-within {
  border-color: var(--main-blue);
  box-shadow: 0 0 0 3px #2563eb33, var(--main-shadow);
}

.sidebar {
  grid-area: sidebar;
  padding: 0 12px;
  display: flex;
  flex-direction: column;
  min-width: 210px;
  border-right: 3px solid #2563eb22;
}

.editor {
  grid-area: editor;
  display: flex;
  flex-direction: column;
  min-width: 300px;
  padding-top: 10px;
}

.chat {
  grid-area: chat;
  padding: 12px 12px 12px 0;
  overflow-y: auto;
  min-width: 250px;
  box-shadow: 0 2px 24px #22d3ee11, var(--main-shadow);
  border: 1.5px solid #22d3ee44;
  position: relative;
  background: linear-gradient(120deg, #f8fafc 80%, #22d3ee11 100%);
}

.timeline {
  grid-area: timeline;
  margin-top: 12px;
  padding: 14px 10px;
  border: 1.5px solid #fbbf2444;
  background: linear-gradient(120deg, #fffbe7 80%, #fbbf2422 100%);
}

.terminal {
  grid-area: terminal;
  color: #22d3ee;
  margin-top: 12px;
  padding: 12px 16px;
  font-family: monospace;
  border: 1.5px solid #2563eb44;
  box-shadow: 0 2px 24px #2563eb11, var(--main-shadow);
  background: linear-gradient(110deg, #0f172a 60%, #1e293b 100%);
  min-height: 90px;
  position: relative;
  overflow: auto;
}

/* BUTTONS */
.action-bar, .button-panel {
  display: flex;
  gap: 14px;
  margin: 14px 0 12px 0;
  justify-content: flex-end;
  animation: fadein 0.8s;
}
@keyframes fadein {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: none; }
}
.action-bar button, .button-panel button, .sidebar button {
  padding: 12px 28px;
  border-radius: 15px;
  border: none;
  background: linear-gradient(90deg, #2563eb 60%, #22d3ee 100%);
  color: #fff;
  font-size: 1.07em;
  font-weight: 700;
  cursor: pointer;
  box-shadow: 0 2px 12px #2563eb22, 0 0 0 #fff;
  transition: background 0.2s, box-shadow 0.2s, transform 0.1s, filter 0.2s;
  filter: drop-shadow(0 0 3px #22d3ee22);
  outline: none;
}
.action-bar button:hover, .button-panel button:hover, .sidebar button:hover {
  background: linear-gradient(90deg, #1e40af 60%, #2563eb 100%);
  box-shadow: 0 4px 24px #22d3ee33, 0 0 8px #2563eb33;
  transform: translateY(-2px) scale(1.05);
  filter: drop-shadow(0 0 6px #22d3ee44);
}
.action-bar button:focus, .button-panel button:focus, .sidebar button:focus {
  outline: 2.5px solid #fbbf24;
  filter: drop-shadow(0 0 10px #fbbf2444);
}

/* EDITOR & FILE TREE */
#editor {
  width: 100%;
  height: 430px;
  border-radius: 16px;
  border: 2.5px solid #e0e7ef;
  box-shadow: 0 2px 16px #2563eb11;
  font-size: 16px;
  margin-bottom: 14px;
  background: #f8fafc;
  transition: border 0.2s, box-shadow 0.3s;
}
#editor:focus {
  border: 2.5px solid #2563eb;
  box-shadow: 0 4px 24px #2563eb33;
}
#fileListDisplay {
  max-height: 60vh;
  overflow-y: auto;
  margin-top: 10px;
  background: #f8fafc99;
  border-radius: 12px;
  border: 1.5px solid #e0e7ef;
  box-shadow: 0 1px 12px #2563eb11;
  padding: 8px 0;
  transition: box-shadow 0.2s;
}
#fileListDisplay .folder, #fileListDisplay .file {
  background: transparent;
  border: none;
  box-shadow: none;
  transition: background 0.2s, color 0.2s;
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 1.09em;
  padding: 7px 20px 7px 10px;
  border-radius: 10px;
  cursor: pointer;
}
#fileListDisplay .folder .icon, #fileListDisplay .file .icon {
  font-size: 1.3em;
  margin-left: 8px;
  color: #2563eb;
  filter: drop-shadow(0 0 4px #22d3ee44);
}
#fileListDisplay .folder:hover, #fileListDisplay .file:hover {
  background: #22d3ee22;
  color: #2563eb;
}
#fileListDisplay .folder.open {
  background: #2563eb11;
  color: #1e293b;
}

/* TIMELINE, TERMINAL, CHAT */
#timelinePanel {
  min-height: 60px;
  border-radius: 12px;
  background: #f8fafcbb;
  box-shadow: 0 1px 8px #fbbf2411;
  border: 1.5px solid #fbbf2444;
  padding: 10px 8px;
}
#terminalOutput {
  min-height: 60px;
  background: linear-gradient(90deg, #000 80%, #2563eb 100%);
  color: #0ff;
  padding: 12px;
  border-radius: 12px;
  font-size: 1.15em;
  margin: 12px 0;
  box-shadow: 0 1px 14px #22d3ee22;
  border: 1.5px solid #22d3ee44;
  font-family: 'JetBrains Mono', monospace;
}
#chatPanel {
  min-height: 120px;
  background: #f8fafcee;
  border-radius: 14px;
  border: 1.5px solid #22d3ee44;
  box-shadow: 0 1px 12px #22d3ee11;
  padding: 16px 12px;
  animation: fadein 0.7s;
  font-size: 1.08em;
}
#chatPanel .msg {
  margin: 8px 0;
  padding: 10px 16px;
  border-radius: 12px;
  background: #fff;
  box-shadow: 0 1px 6px #2563eb11;
  border: 1px solid #e0e7ef;
  display: flex;
  align-items: flex-start;
  gap: 10px;
  animation: fadein 0.6s;
}
#chatPanel .msg.user {
  background: linear-gradient(90deg, #2563eb22 60%, #fff 100%);
  border-right: 4px solid #2563eb;
  align-self: flex-end;
}
#chatPanel .msg.ai {
  background: linear-gradient(90deg, #22d3ee22 60%, #fff 100%);
  border-left: 4px solid #22d3ee;
  align-self: flex-start;
}

/* SEARCH, NOTIFICATIONS, ERRORS */
#fileSearch {
  width: 96%;
  margin-bottom: 10px;
  padding: 9px;
  border-radius: 10px;
  border: 1.5px solid #e0e7ef;
  font-size: 1.03em;
  background: #f1f5f9;
  transition: border 0.2s, box-shadow 0.2s;
  box-shadow: 0 1px 6px #2563eb11;
}
#fileSearch:focus {
  border: 1.5px solid #2563eb;
  background: #fff;
  box-shadow: 0 2px 8px #2563eb22;
}
.notification {
  position: fixed;
  bottom: 24px;
  left: 36px;
  background: var(--glass-bg);
  color: #1e293b;
  border-radius: 15px;
  padding: 15px 30px;
  border: 2px solid #2563eb;
  box-shadow: 0 2px 16px #2563eb22;
  z-index: 3000;
  font-size: 1.17em;
  font-weight: 500;
  animation: fadein 0.7s;
}
.error-item {
  color: #b91c1c;
  background: #fff5f5cc;
  border-radius: 10px;
  margin: 6px 0;
  padding: 10px 16px;
  font-size: 1em;
  border: 1.5px solid #fecaca;
  box-shadow: 0 1px 8px #fecaca44;
}

/* SCROLLBAR */
::-webkit-scrollbar {
  width: 8px;
  background: #e0e7ef;
  border-radius: 8px;
}
::-webkit-scrollbar-thumb {
  background: #2563eb44;
  border-radius: 8px;
}

/* RESPONSIVE */
@media (max-width: 900px) {
  .main-grid {
    grid-template-columns: 1fr;
    grid-template-rows: auto auto auto auto auto;
    grid-template-areas:
      "topbar"
      "sidebar"
      "editor"
      "timeline"
      "terminal"
      "chat";
  }
  .sidebar, .editor, .chat, .timeline, .terminal {
    min-width: unset;
    margin-bottom: 18px;
  }
}

    --main-bg: #191c24;
    --main-color: #ffd700;
    --accent: #4a1d9c;
    --panel-bg: #23263b;
    --text: #fff;
    --header-gradient: linear-gradient(90deg, #23263b, #4a1d9c);
  }
}
body {
  font-family: 'Varela Round', Arial, sans-serif;
  background: linear-gradient(135deg, #e0e7ef 0%, #f8fafc 100%);
  margin: 0;
  padding: 0;
  direction: rtl;
  color: #1e293b;
  min-height: 100vh;
  transition: background 0.5s;
}

/* משתני עיצוב גלובליים */
:root {
  --main-bg: #f2f6ff;
  --main-color: #2563eb;
  --accent: #ffd700;
  --panel-bg: #fff;
  --text: #1e293b;
  --header-gradient: linear-gradient(90deg, #2563eb, #22d3ee);
  --glass-bg: rgba(255,255,255,0.8);
  --glass-blur: 16px;
  --main-shadow: 0 4px 32px #2563eb22, 0 1.5px 7px #1e293b11;
  --main-radius: 22px;
  --main-blue: #2563eb;
  --main-dark: #1e293b;
  --main-green: #22d3ee;
  --main-pink: #f472b6;
  --main-yellow: #fbbf24;
  --main-glow: 0 0 10px #2563eb44, 0 0 2px #fff;
}

body, html {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
  font-family: 'Varela Round', Arial, sans-serif;
  background: linear-gradient(135deg, #e0e7ef 0%, #f8fafc 100%);
  color: var(--text);
  direction: rtl;
  min-height: 100vh;
  transition: background 0.5s;
}

body.dark {
  background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
  color: #f1f5f9;
}

/* RESET */
*, *:before, *:after {
  box-sizing: inherit;
}

/* TOPBAR */
.topbar {
  background: var(--glass-bg);
  backdrop-filter: blur(var(--glass-blur));
  color: var(--main-blue);
  padding: 22px 32px;
  font-size: 1.4em;
  font-weight: bold;
  letter-spacing: 1px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  border-bottom-left-radius: var(--main-radius);
  border-bottom-right-radius: var(--main-radius);
  box-shadow: var(--main-shadow);
  min-height: 64px;
  margin-bottom: 16px;
  transition: background 0.5s, color 0.5s;
  background-image: var(--header-gradient);
  background-clip: padding-box;
}

.theme-toggle {
  margin-left: 18px;
  cursor: pointer;
  font-size: 1.7em;
  transition: color 0.2s, filter 0.2s;
  filter: drop-shadow(0 0 4px #2563eb33);
  outline: none;
}
.theme-toggle:focus {
  outline: 3px solid var(--main-yellow);
}
.theme-toggle:hover {
  color: var(--main-yellow);
  filter: drop-shadow(0 0 8px #fbbf2444);
}

/* MAIN GRID */
.main-grid {
  display: grid;
  grid-template-columns: 260px 1fr 340px;
  grid-template-rows: 1fr 180px;
  grid-template-areas:
    "sidebar editor chat"
    "timeline terminal chat";
  gap: 22px;
  padding: 22px 18px 0 18px;
  min-height: 92vh;
  transition: gap 0.3s;
}

.sidebar, .editor, .chat, .timeline, .terminal {
  background: var(--glass-bg);
  backdrop-filter: blur(var(--glass-blur));
  border-radius: var(--main-radius);
  box-shadow: var(--main-shadow);
  transition: background 0.5s, box-shadow 0.3s;
  border: 2.5px solid transparent;
}
.sidebar:focus-within, .editor:focus-within, .chat:focus-within, .timeline:focus-within, .terminal:focus-within {
  border-color: var(--main-blue);
  box-shadow: 0 0 0 3px #2563eb33, var(--main-shadow);
}

.sidebar {
  grid-area: sidebar;
  padding: 0 12px;
  display: flex;
  flex-direction: column;
  min-width: 210px;
  border-right: 3px solid #2563eb22;
}

.editor {
  grid-area: editor;
  display: flex;
  flex-direction: column;
  min-width: 300px;
  padding-top: 10px;
}

.chat {
  grid-area: chat;
  padding: 12px 12px 12px 0;
  overflow-y: auto;
  min-width: 250px;
  box-shadow: 0 2px 24px #22d3ee11, var(--main-shadow);
  border: 1.5px solid #22d3ee44;
  position: relative;
  background: linear-gradient(120deg, #f8fafc 80%, #22d3ee11 100%);
}

.timeline {
  grid-area: timeline;
  margin-top: 12px;
  padding: 14px 10px;
  border: 1.5px solid #fbbf2444;
  background: linear-gradient(120deg, #fffbe7 80%, #fbbf2422 100%);
}

.terminal {
  grid-area: terminal;
  color: #22d3ee;
  margin-top: 12px;
  padding: 12px 16px;
  font-family: monospace;
  border: 1.5px solid #2563eb44;
  box-shadow: 0 2px 24px #2563eb11, var(--main-shadow);
  background: linear-gradient(110deg, #0f172a 60%, #1e293b 100%);
  min-height: 90px;
  position: relative;
  overflow: auto;
}

/* BUTTONS */
.action-bar, .button-panel {
  display: flex;
  gap: 14px;
  margin: 14px 0 12px 0;
  justify-content: flex-end;
  animation: fadein 0.8s;
}
@keyframes fadein {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: none; }
}
.action-bar button, .button-panel button, .sidebar button {
  padding: 12px 28px;
  border-radius: 15px;
  border: none;
  background: linear-gradient(90deg, #2563eb 60%, #22d3ee 100%);
  color: #fff;
  font-size: 1.07em;
  font-weight: 700;
  cursor: pointer;
  box-shadow: 0 2px 12px #2563eb22, 0 0 0 #fff;
  transition: background 0.2s, box-shadow 0.2s, transform 0.1s, filter 0.2s;
  filter: drop-shadow(0 0 3px #22d3ee22);
  outline: none;
}
.action-bar button:hover, .button-panel button:hover, .sidebar button:hover {
  background: linear-gradient(90deg, #1e40af 60%, #2563eb 100%);
  box-shadow: 0 4px 24px #22d3ee33, 0 0 8px #2563eb33;
  transform: translateY(-2px) scale(1.05);
  filter: drop-shadow(0 0 6px #22d3ee44);
}
.action-bar button:focus, .button-panel button:focus, .sidebar button:focus {
  outline: 2.5px solid #fbbf24;
  filter: drop-shadow(0 0 10px #fbbf2444);
}

/* EDITOR & FILE TREE */
#editor {
  width: 100%;
  height: 430px;
  border-radius: 16px;
  border: 2.5px solid #e0e7ef;
  box-shadow: 0 2px 16px #2563eb11;
  font-size: 16px;
  margin-bottom: 14px;
  background: #f8fafc;
  transition: border 0.2s, box-shadow 0.3s;
}
#editor:focus {
  border: 2.5px solid #2563eb;
  box-shadow: 0 4px 24px #2563eb33;
}
#fileListDisplay {
  max-height: 60vh;
  overflow-y: auto;
  margin-top: 10px;
  background: #f8fafc99;
  border-radius: 12px;
  border: 1.5px solid #e0e7ef;
  box-shadow: 0 1px 12px #2563eb11;
  padding: 8px 0;
  transition: box-shadow 0.2s;
}
#fileListDisplay .folder, #fileListDisplay .file {
  background: transparent;
  border: none;
  box-shadow: none;
  transition: background 0.2s, color 0.2s;
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 1.09em;
  padding: 7px 20px 7px 10px;
  border-radius: 10px;
  cursor: pointer;
}
#fileListDisplay .folder .icon, #fileListDisplay .file .icon {
  font-size: 1.3em;
  margin-left: 8px;
  color: #2563eb;
  filter: drop-shadow(0 0 4px #22d3ee44);
}
#fileListDisplay .folder:hover, #fileListDisplay .file:hover {
  background: #22d3ee22;
  color: #2563eb;
}
#fileListDisplay .folder.open {
  background: #2563eb11;
  color: #1e293b;
}

/* TIMELINE, TERMINAL, CHAT */
#timelinePanel {
  min-height: 60px;
  border-radius: 12px;
  background: #f8fafcbb;
  box-shadow: 0 1px 8px #fbbf2411;
  border: 1.5px solid #fbbf2444;
  padding: 10px 8px;
}
#terminalOutput {
  min-height: 60px;
  background: linear-gradient(90deg, #000 80%, #2563eb 100%);
  color: #0ff;
  padding: 12px;
  border-radius: 12px;
  font-size: 1.15em;
  margin: 12px 0;
  box-shadow: 0 1px 14px #22d3ee22;
  border: 1.5px solid #22d3ee44;
  font-family: 'JetBrains Mono', monospace;
}
#chatPanel {
  min-height: 120px;
  background: #f8fafcee;
  border-radius: 14px;
  border: 1.5px solid #22d3ee44;
  box-shadow: 0 1px 12px #22d3ee11;
  padding: 16px 12px;
  animation: fadein 0.7s;
  font-size: 1.08em;
}
#chatPanel .msg {
  margin: 8px 0;
  padding: 10px 16px;
  border-radius: 12px;
  background: #fff;
  box-shadow: 0 1px 6px #2563eb11;
  border: 1px solid #e0e7ef;
  display: flex;
  align-items: flex-start;
  gap: 10px;
  animation: fadein 0.6s;
}
#chatPanel .msg.user {
  background: linear-gradient(90deg, #2563eb22 60%, #fff 100%);
  border-right: 4px solid #2563eb;
  align-self: flex-end;
}
#chatPanel .msg.ai {
  background: linear-gradient(90deg, #22d3ee22 60%, #fff 100%);
  border-left: 4px solid #22d3ee;
  align-self: flex-start;
}

/* SEARCH, NOTIFICATIONS, ERRORS */
#fileSearch {
  width: 96%;
  margin-bottom: 10px;
  padding: 9px;
  border-radius: 10px;
  border: 1.5px solid #e0e7ef;
  font-size: 1.03em;
  background: #f1f5f9;
  transition: border 0.2s, box-shadow 0.2s;
  box-shadow: 0 1px 6px #2563eb11;
}
#fileSearch:focus {
  border: 1.5px solid #2563eb;
  background: #fff;
  box-shadow: 0 2px 8px #2563eb22;
}
.notification {
  position: fixed;
  bottom: 24px;
  left: 36px;
  background: var(--glass-bg);
  color: #1e293b;
  border-radius: 15px;
  padding: 15px 30px;
  border: 2px solid #2563eb;
  box-shadow: 0 2px 16px #2563eb22;
  z-index: 3000;
  font-size: 1.17em;
  font-weight: 500;
  animation: fadein 0.7s;
}
.error-item {
  color: #b91c1c;
  background: #fff5f5cc;
  border-radius: 10px;
  margin: 6px 0;
  padding: 10px 16px;
  font-size: 1em;
  border: 1.5px solid #fecaca;
  box-shadow: 0 1px 8px #fecaca44;
}

/* SCROLLBAR */
::-webkit-scrollbar {
  width: 8px;
  background: #e0e7ef;
  border-radius: 8px;
}
::-webkit-scrollbar-thumb {
  background: #2563eb44;
  border-radius: 8px;
}

/* RESPONSIVE */
@media (max-width: 900px) {
  .main-grid {
    grid-template-columns: 1fr;
    grid-template-rows: auto auto auto auto auto;
    grid-template-areas:
      "topbar"
      "sidebar"
      "editor"
      "timeline"
      "terminal"
      "chat";
  }
  .sidebar, .editor, .chat, .timeline, .terminal {
    min-width: unset;
    margin-bottom: 18px;
  }
}

  --glass-bg: rgba(255,255,255,0.75);
  --glass-blur: 12px;
  --main-shadow: 0 4px 32px #2563eb22, 0 1.5px 7px #1e293b11;
  --main-radius: 22px;
  --main-blue: #2563eb;
  --main-dark: #1e293b;
  --main-green: #22d3ee;
  --main-pink: #f472b6;
  --main-yellow: #fbbf24;
  --main-glow: 0 0 10px #2563eb44, 0 0 2px #fff;
}

body.dark {
  background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
  color: #f1f5f9;
}

.topbar {
  background: var(--glass-bg);
  backdrop-filter: blur(var(--glass-blur));
  color: #2563eb;
  padding: 22px 32px;
  font-size: 1.4em;
  font-weight: bold;
  letter-spacing: 1px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  border-bottom-left-radius: var(--main-radius);
  border-bottom-right-radius: var(--main-radius);
  box-shadow: var(--main-shadow);
  min-height: 64px;
  margin-bottom: 16px;
  transition: background 0.5s, color 0.5s;
}

.theme-toggle {
  margin-left: 18px;
  cursor: pointer;
  font-size: 1.7em;
  transition: color 0.2s, filter 0.2s;
  filter: drop-shadow(0 0 4px #2563eb33);
}
.theme-toggle:hover {
  color: var(--main-yellow);
  filter: drop-shadow(0 0 8px #fbbf2444);
}

.main-grid {
  display: grid;
  grid-template-columns: 260px 1fr 340px;
  grid-template-rows: 1fr 180px;
  grid-template-areas:
    "sidebar editor chat"
    "timeline terminal chat";
  gap: 22px;
  padding: 22px 18px 0 18px;
  min-height: 92vh;
  transition: gap 0.3s;
}

.sidebar, .editor, .chat, .timeline, .terminal {
  background: var(--glass-bg);
  backdrop-filter: blur(var(--glass-blur));
  border-radius: var(--main-radius);
  box-shadow: var(--main-shadow);
  transition: background 0.5s, box-shadow 0.3s;
}

.sidebar {
  grid-area: sidebar;
  padding: 0 12px;
  display: flex;
  flex-direction: column;
  min-width: 210px;
  border-right: 3px solid #2563eb22;
}

.editor {
  grid-area: editor;
  display: flex;
  flex-direction: column;
  min-width: 300px;
  padding-top: 10px;
}

.chat {
  grid-area: chat;
  padding: 12px 12px 12px 0;
  overflow-y: auto;
  min-width: 250px;
  box-shadow: 0 2px 24px #22d3ee11, var(--main-shadow);
  border: 1.5px solid #22d3ee44;
  position: relative;
}

.timeline {
  grid-area: timeline;
  margin-top: 12px;
  padding: 14px 10px;
  border: 1.5px solid #fbbf2444;
}

.terminal {
  grid-area: terminal;
  color: #22d3ee;
  margin-top: 12px;
  padding: 12px 16px;
  font-family: monospace;
  border: 1.5px solid #2563eb44;
  box-shadow: 0 2px 24px #2563eb11, var(--main-shadow);
  background: linear-gradient(110deg, #0f172a 60%, #1e293b 100%);
  min-height: 90px;
  position: relative;
  overflow: auto;
}

.action-bar {
  display: flex;
  gap: 14px;
  margin: 14px 0 12px 0;
  justify-content: flex-end;
  animation: fadein 0.8s;
}

@keyframes fadein {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: none; }
}

.action-bar button, .button-panel button, .sidebar button {
  padding: 12px 28px;
  border-radius: 15px;
  border: none;
  background: linear-gradient(90deg, #2563eb 60%, #22d3ee 100%);
  color: #fff;
  font-size: 1.07em;
  font-weight: 700;
  cursor: pointer;
  box-shadow: 0 2px 12px #2563eb22, 0 0 0 #fff;
  transition: background 0.2s, box-shadow 0.2s, transform 0.1s, filter 0.2s;
  filter: drop-shadow(0 0 3px #22d3ee22);
  outline: none;
}
.action-bar button:hover, .button-panel button:hover, .sidebar button:hover {
  background: linear-gradient(90deg, #1e40af 60%, #2563eb 100%);
  box-shadow: 0 4px 24px #22d3ee33, 0 0 8px #2563eb33;
  transform: translateY(-2px) scale(1.05);
  filter: drop-shadow(0 0 6px #22d3ee44);
}
.action-bar button:focus, .button-panel button:focus, .sidebar button:focus {
  outline: 2.5px solid #fbbf24;
  filter: drop-shadow(0 0 10px #fbbf2444);
}

#editor {
  width: 100%;
  height: 430px;
  border-radius: 16px;
  border: 2.5px solid #e0e7ef;
  box-shadow: 0 2px 16px #2563eb11;
  font-size: 16px;
  margin-bottom: 14px;
  background: #f8fafc;
  transition: border 0.2s, box-shadow 0.3s;
}
#editor:focus {
  border: 2.5px solid #2563eb;
  box-shadow: 0 4px 24px #2563eb33;
}

#fileListDisplay {
  max-height: 60vh;
  overflow-y: auto;
  margin-top: 10px;
  background: #f8fafc99;
  border-radius: 12px;
  border: 1.5px solid #e0e7ef;
  box-shadow: 0 1px 12px #2563eb11;
  padding: 8px 0;
  transition: box-shadow 0.2s;
}
#fileListDisplay .folder, #fileListDisplay .file {
  background: transparent;
  border: none;
  box-shadow: none;
  transition: background 0.2s, color 0.2s;
}
#fileListDisplay .folder:hover, #fileListDisplay .file:hover {
  background: #22d3ee22;
  color: #2563eb;
}
#fileListDisplay .folder.open {
  background: #2563eb11;
  color: #1e293b;
}
#fileListDisplay .folder .icon, #fileListDisplay .file .icon {
  font-size: 1.2em;
  margin-left: 8px;
  color: #2563eb;
}

#timelinePanel {
  min-height: 60px;
  border-radius: 12px;
  background: #f8fafcbb;
  box-shadow: 0 1px 8px #fbbf2411;
  border: 1.5px solid #fbbf2444;
  padding: 10px 8px;
}

#terminalOutput {
  min-height: 60px;
  background: linear-gradient(90deg, #000 80%, #2563eb 100%);
  color: #0ff;
  padding: 12px;
  border-radius: 12px;
  font-size: 1.15em;
  margin: 12px 0;
  box-shadow: 0 1px 14px #22d3ee22;
  border: 1.5px solid #22d3ee44;
  font-family: 'JetBrains Mono', monospace;
}

#chatPanel {
  min-height: 120px;
  background: #f8fafcee;
  border-radius: 14px;
  border: 1.5px solid #22d3ee44;
  box-shadow: 0 1px 12px #22d3ee11;
  padding: 16px 12px;
  animation: fadein 0.7s;
  font-size: 1.08em;
}
#chatPanel .msg {
  margin: 8px 0;
  padding: 10px 16px;
  border-radius: 12px;
  background: #fff;
  box-shadow: 0 1px 6px #2563eb11;
  border: 1px solid #e0e7ef;
  display: flex;
  align-items: flex-start;
  gap: 10px;
  animation: fadein 0.6s;
}
#chatPanel .msg.user {
  background: linear-gradient(90deg, #2563eb22 60%, #fff 100%);
  border-right: 4px solid #2563eb;
  align-self: flex-end;
}
#chatPanel .msg.ai {
  background: linear-gradient(90deg, #22d3ee22 60%, #fff 100%);
  border-left: 4px solid #22d3ee;
  align-self: flex-start;
}

#fileSearch {
  width: 96%;
  margin-bottom: 10px;
  padding: 9px;
  border-radius: 10px;
  border: 1.5px solid #e0e7ef;
  font-size: 1.03em;
  background: #f1f5f9;
  transition: border 0.2s, box-shadow 0.2s;
  box-shadow: 0 1px 6px #2563eb11;
}
#fileSearch:focus {
  border: 1.5px solid #2563eb;
  background: #fff;
  box-shadow: 0 2px 8px #2563eb22;
}

.notification {
  position: fixed;
  bottom: 24px;
  left: 36px;
  background: var(--glass-bg);
  color: #1e293b;
  border-radius: 15px;
  padding: 15px 30px;
  border: 2px solid #2563eb;
  box-shadow: 0 2px 16px #2563eb22;
  z-index: 3000;
  font-size: 1.17em;
  font-weight: 500;
  animation: fadein 0.7s;
}

.error-item {
  color: #b91c1c;
  background: #fff5f5cc;
  border-radius: 10px;
  margin: 6px 0;
  padding: 10px 16px;
  font-size: 1em;
  border: 1.5px solid #fecaca;
  box-shadow: 0 1px 8px #fecaca44;
}

::-webkit-scrollbar {
  width: 8px;
  background: #e0e7ef;
  border-radius: 8px;
}
::-webkit-scrollbar-thumb {
  background: #2563eb44;
  border-radius: 8px;
}

@media (max-width: 900px) {
  .main-grid {
    grid-template-columns: 1fr;
    grid-template-rows: auto auto auto auto auto;
    grid-template-areas:
      "topbar"
      "sidebar"
      "editor"
      "timeline"
      "terminal"
      "chat";
  }
  .sidebar, .editor, .chat, .timeline, .terminal {
    min-width: unset;
    margin-bottom: 18px;
  }
}
  font-family: 'Varela Round', Arial, sans-serif;
  background: linear-gradient(135deg, #f8fafc 0%, #e0e7ef 100%);
  margin: 0;
  padding: 0;
  direction: rtl;
  color: #1e293b;
}

.topbar {
  background: linear-gradient(90deg, #2563eb 30%, #1e293b 100%);
  color: #fff;
  padding: 18px 24px;
  font-size: 1.3em;
  font-weight: bold;
  letter-spacing: 1px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  border-bottom-left-radius: 16px;
  border-bottom-right-radius: 16px;
  box-shadow: 0 2px 12px #0002;
  min-height: 60px;
}

.main-grid {
  display: grid;
  grid-template-columns: 270px 1fr 340px;
  grid-template-rows: 1fr 180px;
  grid-template-areas:
    "sidebar editor chat"
    "timeline terminal chat";
  gap: 18px;
  padding: 22px 18px 0 18px;
  min-height: 92vh;
}

.sidebar {
  grid-area: sidebar;
  background: #fff;
  border-radius: 16px;
  box-shadow: 0 2px 12px #2563eb22;
  padding: 0 12px;
  display: flex;
  flex-direction: column;
  min-width: 220px;
}

.editor {
  grid-area: editor;
  background: #fff;
  border-radius: 16px;
  box-shadow: 0 2px 12px #2563eb22;
  display: flex;
  flex-direction: column;
  min-width: 300px;
}

.chat {
  grid-area: chat;
  background: #fff;
  border-radius: 16px;
  box-shadow: 0 2px 12px #2563eb22;
  padding: 8px 8px 8px 0;
  overflow-y: auto;
}

.timeline {
  grid-area: timeline;
  background: #fff;
  border-radius: 16px;
  box-shadow: 0 2px 12px #2563eb22;
  margin-top: 12px;
  padding: 10px 8px;
}

.terminal {
  grid-area: terminal;
  background: #1e293b;
  color: #d1fae5;
  border-radius: 16px;
  box-shadow: 0 2px 12px #2563eb22;
  margin-top: 12px;
  padding: 8px 12px;
  font-family: monospace;
}

.action-bar {
  display: flex;
  gap: 12px;
  margin: 12px 0;
  justify-content: flex-end;
}

.action-bar button, .button-panel button, .sidebar button {
  padding: 10px 22px;
  border-radius: 10px;
  border: none;
  background: linear-gradient(90deg, #2563eb 60%, #1e293b 100%);
  color: #fff;
  font-size: 1em;
  font-weight: 600;
  cursor: pointer;
  box-shadow: 0 2px 8px #2563eb22;
  transition: background 0.2s, box-shadow 0.2s, transform 0.1s;
}
.action-bar button:hover, .button-panel button:hover, .sidebar button:hover {
  background: linear-gradient(90deg, #1e40af 60%, #2563eb 100%);
  box-shadow: 0 4px 16px #2563eb33;
  transform: translateY(-2px) scale(1.04);
}

#editor {
  width: 100%;
  height: 420px;
  border-radius: 12px;
  border: 1.5px solid #e0e7ef;
  box-shadow: 0 2px 8px #2563eb11;
  font-size: 15px;
  margin-bottom: 14px;
}

#fileListDisplay {
  max-height: 60vh;
  overflow-y: auto;
  margin-top: 10px;
  background: #f8fafc;
  border-radius: 10px;
  border: 1px solid #e0e7ef;
  box-shadow: 0 1px 6px #2563eb11;
  padding: 8px 0;
}

#timelinePanel {
  min-height: 60px;
}

#terminalOutput {
  min-height: 60px;
  background: #000;
  color: #0f0;
  padding: 10px;
  border-radius: 10px;
  font-size: 1.1em;
  margin: 12px 0;
}

#chatPanel {
  min-height: 120px;
  background: #f8fafc;
  border-radius: 10px;
  border: 1px solid #e0e7ef;
  box-shadow: 0 1px 6px #2563eb11;
  padding: 10px;
}

#fileSearch {
  width: 96%;
  margin-bottom: 10px;
  padding: 7px;
  border-radius: 8px;
  border: 1px solid #e0e7ef;
  font-size: 1em;
  background: #f1f5f9;
  transition: border 0.2s;
}
#fileSearch:focus {
  border: 1.5px solid #2563eb;
  background: #fff;
}

.notification {
  position: fixed;
  bottom: 24px;
  left: 36px;
  background: #fff;
  color: #1e293b;
  border-radius: 12px;
  padding: 12px 22px;
  border: 1.5px solid #2563eb;
  box-shadow: 0 2px 12px #2563eb22;
  z-index: 3000;
  font-size: 1.1em;
  font-weight: 500;
}

.theme-toggle {
  margin-left: 18px;
  cursor: pointer;
  font-size: 1.6em;
  transition: color 0.2s;
}
.theme-toggle:hover {
  color: #fbbf24;
}

.error-item {
  color: #b91c1c;
  background: #fff5f5;
  border-radius: 8px;
  margin: 4px 0;
  padding: 8px 12px;
  font-size: 1em;
  border: 1px solid #fecaca;
}

/* עיצוב עץ התיקיות */
.folder, .file {
  padding: 6px 18px 6px 8px;
  border-radius: 6px;
  margin-bottom: 3px;
  transition: background 0.2s, color 0.2s;
  cursor: pointer;
  font-size: 1.07em;
  display: flex;
  align-items: center;
  gap: 8px;
}
.folder:hover, .file:hover {
  background: #2563eb22;
  color: #2563eb;
}
.folder.open {
  background: #2563eb11;
  color: #1e293b;
}
.folder .icon, .file .icon {
  font-size: 1.2em;
}

::-webkit-scrollbar {
  width: 8px;
  background: #e0e7ef;
  border-radius: 8px;
}
::-webkit-scrollbar-thumb {
  background: #2563eb44;
  border-radius: 8px;
}

@media (max-width: 900px) {
  .main-grid {
    grid-template-columns: 1fr;
    grid-template-rows: auto auto auto auto auto;
    grid-template-areas:
      "topbar"
      "sidebar"
      "editor"
      "timeline"
      "terminal"
      "chat";
  }
  .sidebar, .editor, .chat, .timeline, .terminal {
    min-width: unset;
    margin-bottom: 18px;
  }
}
  font-family: 'Varela Round', sans-serif;
  margin: 0;
  background: var(--main-bg);
  color: var(--text);
  transition: background 0.3s, color 0.3s;
}
header {
  background: var(--header-gradient);
  color: white;
  padding: 36px 0 24px 0;
  text-align: center;
  box-shadow: 0 4px 16px rgba(0,0,0,0.12);
  border-bottom-left-radius: 32px;
  border-bottom-right-radius: 32px;
}
#statusBar {
  margin-top: 10px;
  display: inline-block;
  background: var(--accent);
  color: var(--text);
  padding: 8px 18px;
  border-radius: 20px;
  font-weight: bold;
  box-shadow: 0 2px 8px rgba(0,0,0,0.06);
}
.tabs {
  display: flex;
  justify-content: center;
  gap: 14px;
  margin: 20px 0 8px 0;
}
.tabs button {
  padding: 14px 26px;
  border: none;
  background: var(--main-color);
  color: #fff;
  border-radius: 30px;
  font-weight: bold;
  font-size: 1.08em;
  cursor: pointer;
  transition: background 0.2s, color 0.2s, box-shadow 0.2s;
  box-shadow: 0 2px 8px rgba(76, 29, 156, 0.07);
}
.tabs button.active, .tabs button:focus {
  background: var(--accent);
  color: var(--main-color);
  outline: none;
}
.content-tab {
  display: none;
  background: var(--panel-bg);
  border-radius: 16px;
  padding: 30px 18px;
  max-width: 980px;
  margin: 24px auto;
  box-shadow: 0 0 8px rgba(0,0,0,0.08);
  transition: background 0.3s, color 0.3s;
}
.content-tab.active {
  display: block;
}
#editor {
  height: 340px;
  margin-top: 18px;
  border: 1px solid #bdbdbd;
  border-radius: 10px;
  background: #18181810;
  transition: background 0.3s;
}
.button-panel {
  text-align: center;
  margin: 22px 0 10px 0;
}
.button-panel button, .button-panel input[type="file"] {
  margin: 8px;
  padding: 12px 22px;
  background: var(--main-color);
  color: #fff;
  border: none;
  border-radius: 14px;
  font-size: 1em;
  font-weight: bold;
  cursor: pointer;
  box-shadow: 0 2px 8px rgba(76, 29, 156, 0.07);
  transition: background 0.2s, color 0.2s, box-shadow 0.2s;
}
.button-panel button:hover, .button-panel button:focus {
  background: var(--accent);
  color: var(--main-color);
}
.log-item, .error-item {
  padding: 10px;
  border-bottom: 1px solid #eee;
  cursor: pointer;
  background: #f8f8ff;
  border-radius: 7px;
  margin-bottom: 4px;
  transition: background 0.2s;
}
.log-item:hover, .error-item:hover {
  background: var(--accent);
  color: var(--main-color);
}
.ai-panel {
  text-align: center;
  padding: 24px 0 16px 0;
  background: var(--panel-bg);
  max-width: 980px;
  margin: 0 auto 12px auto;
  border-radius: 16px;
  box-shadow: 0 0 6px rgba(0,0,0,0.10);
}
.ai-panel input {
  width: 62%;
  padding: 12px 16px;
  border-radius: 12px;
  border: 1px solid #bdbdbd;
  font-size: 1.08em;
  margin-bottom: 14px;
  background: #f9f9ff;
  color: var(--text);
  transition: background 0.3s, color 0.3s;
}
#terminalOutput {
  background: #1e1e1e;
  color: #0f0;
  padding: 14px;
  margin: 24px auto;
  max-width: 900px;
  border-radius: 10px;
  font-family: monospace;
  white-space: pre-wrap;
  height: 200px;
  overflow-y: auto;
  font-size: 1.08em;
}
#fileTree {
  max-height: 320px;
  overflow-y: auto;
  background: #f9f9f9;
  border-radius: 10px;
  padding: 12px;
  font-size: 14px;
  direction: ltr;
  text-align: left;
  border: 1px solid #bdbdbd;
}
/* ==== Sidebar ==== */
#sidebar {
  position: fixed;
  top: 0; right: 0;
  width: 260px;
  height: 100vh;
  background: var(--panel-bg);
  border-right: 2px solid #ececec;
  box-shadow: -2px 0 8px rgba(76,29,156,0.04);
  z-index: 1000;
  padding: 0 0 0 0;
  display: flex;
  flex-direction: column;
}
.sidebar-header {
  padding: 18px 16px 8px 16px;
  border-bottom: 1px solid #ececec;
  background: var(--main-bg);
}
#fileSearch {
  width: 90%;
  margin: 10px 0 6px 0;
  padding: 7px 10px;
  border-radius: 10px;
  border: 1px solid #bdbdbd;
  font-size: 1em;
}
#sidebar ul {
  list-style: none;
  padding: 8px 12px;
  margin: 0;
  overflow-y: auto;
  flex: 1;
}
#sidebar li.file {
  color: #333;
  background: none;
  padding: 6px 0 6px 10px;
  border-radius: 7px;
  cursor: pointer;
  transition: background 0.15s;
}
#sidebar li.file:hover, #sidebar li.file.active {
  background: var(--accent);
  color: var(--main-color);
}
#sidebar li.directory {
  font-weight: bold;
  margin-top: 8px;
  color: var(--main-color);
}
#newFileBtn, #newFolderBtn {
  margin: 0 3px;
  padding: 6px 10px;
  background: var(--main-color);
  color: #fff;
  border: none;
  border-radius: 8px;
  font-size: 0.98em;
  cursor: pointer;
}
#newFileBtn:hover, #newFolderBtn:hover {
  background: var(--accent);
  color: var(--main-color);
}

/* ==== Tabs ==== */
#tabsBar {
  position: fixed;
  top: 0; left: 0; right: 260px;
  height: 48px;
  background: var(--panel-bg);
  z-index: 900;
  display: flex;
  align-items: center;
  border-bottom: 1px solid #ececec;
}
#tabsList {
  display: flex;
  list-style: none;
  margin: 0;
  padding: 0 0 0 16px;
  height: 100%;
}
#tabsList li {
  margin: 0 6px 0 0;
  padding: 0 16px;
  background: var(--main-bg);
  border-radius: 10px 10px 0 0;
  height: 38px;
  display: flex;
  align-items: center;
  cursor: pointer;
  transition: background 0.18s;
  font-weight: bold;
  position: relative;
}
#tabsList li.active {
  background: var(--accent);
  color: var(--main-color);
}
#tabsList li .close-btn {
  margin-right: 8px;
  color: #888;
  font-size: 1.1em;
  cursor: pointer;
}
#tabsList li .close-btn:hover {
  color: #d00;
}

/* ==== Notifications ==== */
.notification {
  position: fixed;
  top: 24px;
  left: 50%;
  transform: translateX(-50%);
  background: #23263b;
  color: #fff;
  padding: 16px 28px;
  border-radius: 12px;
  box-shadow: 0 4px 16px rgba(0,0,0,0.18);
  font-size: 1.1em;
  z-index: 2000;
  opacity: 0.97;
  animation: notif-in 0.35s;
}
.notification.info { background: #23263b; }
.notification.success { background: #1a7f37; }
.notification.error { background: #d32f2f; }
@keyframes notif-in {
  from { opacity: 0; top: 0; }
  to { opacity: 0.97; top: 24px; }
}

/* ==== Dark/Light Mode Button ==== */
#themeToggleBtn {
  position: fixed;
  bottom: 24px;
  left: 24px;
  z-index: 1100;
  background: var(--main-color);
  color: #fff;
  border: none;
  border-radius: 50%;
  width: 48px;
  height: 48px;
  font-size: 1.4em;
  box-shadow: 0 2px 8px rgba(76,29,156,0.12);
  cursor: pointer;
  transition: background 0.2s, color 0.2s;
}
#themeToggleBtn:hover {
  background: var(--accent);
  color: var(--main-color);
}

/* ==== Main Content Layout ==== */
#mainContent {
  margin-right: 260px;
  margin-top: 48px;
  padding: 32px 24px 0 24px;
  min-height: 90vh;
  background: var(--main-bg);
  transition: background 0.3s, color 0.3s;
}

/* ==== Chat AI ==== */
#chatWrap {
  position: fixed;
  left: 24px;
  bottom: 24px;
  width: 360px;
  max-height: 60vh;
  background: var(--panel-bg);
  border-radius: 18px;
  box-shadow: 0 4px 24px rgba(0,0,0,0.13);
  z-index: 3000;
  display: flex;
  flex-direction: column;
  overflow: hidden;
}
#chatHeader {
  background: var(--main-color);
  color: #fff;
  padding: 10px 18px;
  font-size: 1.2em;
  font-weight: bold;
  letter-spacing: 1px;
}
#chatHistory {
  flex: 1;
  padding: 16px 14px 8px 14px;
  overflow-y: auto;
  background: var(--main-bg);
  font-size: 1.08em;
}
.chatMsg {
  margin-bottom: 8px;
  padding: 7px 12px;
  border-radius: 10px;
  max-width: 90%;
  word-break: break-word;
}
.chatMsg.user {
  background: #e3e7ff;
  align-self: flex-end;
  color: #222;
}
.chatMsg.ai {
  background: #e9fbe9;
  color: #0a4b1d;
  align-self: flex-start;
}
#chatForm {
  display: flex;
  border-top: 1px solid #ececec;
  background: var(--panel-bg);
}
#chatInput {
  flex: 1;
  padding: 10px 12px;
  border: none;
  border-radius: 0 0 0 18px;
  font-size: 1em;
  outline: none;
  background: var(--main-bg);
}
#chatSend {
  padding: 0 20px;
  background: var(--main-color);
  color: #fff;
  border: none;
  border-radius: 0 0 18px 0;
  font-size: 1.05em;
  cursor: pointer;
  transition: background 0.15s;
}
#chatSend:hover {
  background: var(--accent);
  color: var(--main-color);
}

/* ==== Timeline Panel ==== */
#timelinePanel {
  position: fixed;
  right: 270px;
  top: 60px;
  width: 330px;
  max-height: 78vh;
  background: var(--panel-bg);
  border-radius: 18px;
  box-shadow: 0 4px 24px rgba(0,0,0,0.13);
  z-index: 2100;
  display: flex;
  flex-direction: column;
  padding: 18px 18px 12px 18px;
  overflow-y: auto;
}
#timelinePanel h3 {
  margin: 0 0 12px 0;
  font-size: 1.1em;
  color: var(--main-color);
}
#timelineList {
  list-style: none;
  padding: 0;
  margin: 0;
}
#timelineList li {
  margin-bottom: 10px;
  padding: 7px 8px;
  border-radius: 10px;
  background: #f6f8ff;
  display: flex;
  align-items: center;
  justify-content: space-between;
  font-size: 1em;
}
#timelineList li button {
  background: var(--main-color);
  color: #fff;
  border: none;
  border-radius: 7px;
  padding: 4px 14px;
  margin-right: 10px;
  font-size: 0.95em;
  cursor: pointer;
  transition: background 0.18s;
}
#timelineList li button:hover {
  background: var(--accent);
  color: var(--main-color);
}
#timelineList li span {
  flex: 1;
  color: #222;
}

footer {
  text-align: center;
  padding: 20px 0 14px 0;
  font-size: 14px;
  color: #777;
  margin-top: 44px;
}
